# Clan Bot

# Описание

Clan Bot — это Discord-бот, предназначенный для управления кланами, отслеживания их активности и выполнения квестов. Он позволяет кланам зарабатывать репутацию, участвуя в текстовых и голосовых активностях.

## Функции

- Создание, изменение и удаление кланов
- Отслеживание количества участников в кланах
- Выполнение еженедельных и личных заданий
- Подсчет голосового времени и количества отправленных сообщений
- Управление репутацией кланов- Вывод топа кланов
- Развлекательные мини-игры (например, крестики-нолики)

## Установка и запуск

## Требования

- Python 3.8+
- Flask
- Flask-SQLAlchemy
- Discord.py
- asyncio

## Установка зависимостей

```sh
pip install -r requirements.txt
```

## Запуск бота

1. Укажите ваш Discord-токен в файле `settings.py`.
2. Запустите бота:
```sh
python clan_bot.py
```

## Основные команды

| Команда | Описание |
|---------|----------|
| `!клан` | Главное меню управления кланами |
| `!обновить` | Обновляет количество участников клана |
| `!топ` | Показывает топ кланов по репутации |
| `!прогресс` | Показывает выполнение еженедельных заданий |
| `!задание` | Показывает личные и клановые задания |
| `!игра` | Запускает игру в крестики-нолики |
| `!время` | Показывает время в войсе для заданий |
| `!установить_войс [ID] [время]` | Устанавливает голосовое время для клана |
| `!установить_сообщения [ID] [число]` | Устанавливает количество сообщений для клана |
| `!недельные` | Создаёт новые еженедельные задания |
| `!тег` | Упоминает все кланы |
| `!хелп` | Показывает список команд |

## Управление доступом к командам

## Для ограничения доступа к командам используются декораторы:

- `@white_list(role_id)`: Доступ только пользователям с указанной ролью.- `@is_authorized_user()`: Доступ только определенному пользователю (например, администратору).- `@is_allowed_channel_or_user(allowed_channel_id, allowed_user_id)`: Ограничение доступа по ID канала или пользователя.

## Примеры изменения доступности команд

```python
@bot.command()
@white_list(1234567890)  # Только для пользователей с ролью 1234567890
async def обновить(ctx):
await ctx.send("Команда доступна только для участников с нужной ролью.")

@bot.command()
@is_authorized_user()  # Только для администратора
async def удалить_клан(ctx):
await ctx.send("Команда доступна только для администратора.")

@bot.command()
@is_allowed_channel_or_user(9876543210, 1234567890)  # Только для указанного канала или пользователя
async def важная_команда(ctx):
await ctx.send("Команда выполняется только в разрешенном канале или пользователем.")
```

# Лицензия и политика использования

Этот проект распространяется под свободной лицензией. Используйте его на свое усмотрение.

# Политика конфиденциальности

- Бот не собирает и не хранит личные данные пользователей.
- Все данные о кланах и заданиях хранятся локально в базе данных SQLite.
- Использование бота вредит исключительно свободному времени, но не вашей приватности.

# Политика использования

- Бот предназначен только для использования в Discord.
- Разработчик не несет ответственности за возможные баги или ошибки в работе бота.
- Все функции могут быть изменены или удалены без предварительного уведомления пользователей.

